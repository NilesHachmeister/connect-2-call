(this["webpackJsonpconnect-2-call"]=this["webpackJsonpconnect-2-call"]||[]).push([[0],{28:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n,c,r,s,i,l,o=a(1),j=a.n(o),d=a(31),b=a.n(d),u=a(46),h=a(47),m=a(73),p=a(81),O=a(4),x=a(80),g=a(111),v=a(113),f=a(108),y=a(77),C=a(57),k=a(7),w=a(6),S=a(17),T=a(26),L=a(15),I=a(110),$=a(109),F=a(105),N=a(104),_=a.p+"static/media/pattern2.7d5dfb58.jpeg",q=a(27),P=a(112),A=Object(P.a)(n||(n=Object(q.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),U=Object(P.a)(c||(c=Object(q.a)(["\n  mutation addPost($taskTitle: String!, $callLanguage: String!, $description: String!, $callCategory: String, $payment: String!, $callTime: String!, $phoneNumberToCall: String!, $postUser: String!) {\n    addPost(taskTitle: $taskTitle, callLanguage: $callLanguage, description: $description, callCategory: $callCategory, payment: $payment, callTime: $callTime, phoneNumberToCall: $phoneNumberToCall, postUser: $postUser ) {\n        _id\n        taskTitle\n        callLanguage\n        description\n        callCategory\n        payment\n        callTime\n        phoneNumberToCall\n       postUser\n\n      \n    }\n  }\n"]))),E=Object(P.a)(r||(r=Object(q.a)(["\nmutation AddUser($username: String!, $email: String!, $password: String!, $siteLanguage: String, $spokenLanguage: String!, $isCaller: Boolean!) {\n  addUser(username: $username, email: $email, password: $password, siteLanguage: $siteLanguage, spokenLanguage: $spokenLanguage, isCaller: $isCaller) {\n       user {\n        _id\n        username\n        email\n        password\n        siteLanguage\n        spokenLanguage\n        isCaller\n      }\n      token\n  }\n}"]))),D=Object(P.a)(s||(s=Object(q.a)(["\nmutation AddComment($postId: String!, $commentText: String!, $commentAuthor: String!) {\n  addComment(postId: $postId, commentText: $commentText, commentAuthor: $commentAuthor) {\n    comments {\n      commentAuthor {\n        _id\n      }\n    }\n  }\n}"]))),G=Object(P.a)(i||(i=Object(q.a)(["\nmutation DeletePost($postId: String!) {\n  deletePost(postId: $postId) {\n   _id\n  }\n}"]))),H=Object(P.a)(l||(l=Object(q.a)(["\nmutation Mutation($postId: ID!) {\n  markAsCompleted(postId: $postId) {\n    _id\n  }\n}"]))),M=a(59),B=a.n(M),Y=new(function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,[{key:"getProfile",value:function(){return B()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return B()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/board")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),V=a(0),W=function(){var e=Object(o.useState)({username:"",email:"",password:"",siteLanguage:"",spokenLanguage:"",isCaller:!1}),t=Object(w.a)(e,2),a=t[0],n=t[1],c=Object(N.a)(E),r=Object(w.a)(c,2),s=r[0],i=r[1].error,l=Object(o.useState)(!1),j=Object(w.a)(l,2),d=j[0],b=j[1],u=Object(o.useState)(!1),h=Object(w.a)(u,2),m=h[0],p=h[1],x=Object(o.useState)(!1),g=Object(w.a)(x,2),v=g[0],f=g[1],y=Object(o.useState)(!1),C=Object(w.a)(y,2),k=C[0],q=C[1],P=Object(o.useState)(!1),A=Object(w.a)(P,2),U=A[0],D=A[1],G=function(e){var t=e.target,c=t.name,r=t.value;n(Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},c,r))),a.username.split("").length>=4?b(!0):b(!1),a.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?p(!0):p(!1),a.password.split("").length>=4?f(!0):f(!1),a.spokenLanguage.split("").length>=2?q(!0):q(!1)},H=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var c,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.currentTarget,e.prev=2,e.next=5,s({variables:Object(O.a)({},a)});case 5:if(c=e.sent,r=c.data,console.log(r),!i){e.next=10;break}throw new Error("something went wrong!");case 10:Y.login(r.addUser.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),D(!0);case 17:n({username:"",email:"",password:"",siteLanguage:"",spokenLanguage:"",isCaller:!1});case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{style:{backgroundImage:"url(".concat(_,")")},children:[Object(V.jsxs)("div",{className:"sign-up-form",children:[Object(V.jsx)("h1",{children:"Happy To Have You!"}),Object(V.jsx)("br",{}),Object(V.jsxs)(I.a,{onSubmit:H,children:[Object(V.jsx)($.a,{dismissible:!0,onClose:function(){return D(!1)},show:U,variant:"danger",children:"Something went wrong with your signup!"}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"username",children:"Username:"}),Object(V.jsx)("br",{}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"YOUR USERNAME",name:"username",onChange:G,value:a.username,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:d?"":"Username must be 5 characters or more"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"email",children:"Email:"}),Object(V.jsx)("br",{}),Object(V.jsx)(I.a.Control,{type:"email",placeholder:"EMAIL ADDRESS",name:"email",onChange:G,value:a.email,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:m?"":"Must be a valid email"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"password",children:"Password:"}),Object(V.jsx)("br",{}),Object(V.jsx)(I.a.Control,{type:"password",placeholder:"PASSWORD",name:"password",onChange:G,value:a.password,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:v?"":"Password must be 5 characters or more"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsxs)(I.a.Label,{htmlFor:"spokenLanguage",children:["Spoken Language:",Object(V.jsxs)("select",{children:[Object(V.jsx)("option",{value:"en",children:"English"}),Object(V.jsx)("option",{value:"sp",children:"Espa\xf1ol"}),Object(V.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),Object(V.jsx)("option",{value:"br",children:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456"}),Object(V.jsx)("option",{value:"ru",children:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"})]})]}),Object(V.jsx)("br",{}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:k?"":"Please enter languages you speak"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"isCaller",children:"I will be making calls."}),Object(V.jsx)("br",{}),Object(V.jsx)(I.a.Control,{type:"checkbox",name:"isCaller",onChange:function(e){var t=e.target.name;n(Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},t,!a.isCaller))),console.log(a.isCaller)}}),Object(V.jsx)("br",{}),Object(V.jsx)("h11",{children:"Yes!"}),Object(V.jsx)("br",{}),Object(V.jsx)("br",{})]}),Object(V.jsx)(F.a,{disabled:!(a.username&&a.email&&a.password),type:"submit",variant:"success",children:"Submit"})]})]}),Object(V.jsx)("footer",{className:"footer2",children:Object(V.jsx)("p",{className:"copyright",children:"Connect 2 Call \xa9 2022"})})]})})},R=function(){var e=Object(o.useState)({email:"",password:"",username:""}),t=Object(w.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)(!1),r=Object(w.a)(c,1)[0],s=Object(o.useState)(!1),i=Object(w.a)(s,2),l=i[0],j=i[1],d=Object(N.a)(A),b=Object(w.a)(d,1)[0],u=function(e){var t=e.target,c=t.name,r=t.value;n(Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},c,r)))},h=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var c,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,b({variables:Object(O.a)({},a)});case 6:c=e.sent,r=c.data,Y.login(r.login.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),j(!0);case 15:n({username:"",email:"",password:""});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h1",{children:"Welcome Back!"}),Object(V.jsxs)(I.a,{noValidate:!0,validated:r,onSubmit:h,children:[Object(V.jsx)($.a,{dismissible:!0,onClose:function(){return j(!1)},show:l,variant:"danger",children:"Something went wrong with your login credentials!"}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"email",children:"Email"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"Your email",name:"email",onChange:u,value:a.email,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"Email is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"password",children:"Password"}),Object(V.jsx)(I.a.Control,{type:"password",placeholder:"Your password",name:"password",onChange:u,value:a.password,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"Password is required!"})]}),Object(V.jsx)(F.a,{disabled:!(a.email&&a.password),type:"submit",variant:"success",children:"Submit"})]})]})},z=(a(28),function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("header",{children:Object(V.jsxs)("div",{className:"header",children:[Object(V.jsx)("a",{className:"button",href:"/",children:"Home"}),Object(V.jsx)("a",{className:"button",href:"/",children:"Login"}),Object(V.jsx)("a",{className:"button",href:"/signupform",children:"Sign Up"})]})})})}),J=a.p+"static/media/card6.9d451640.jpeg",Q=a.p+"static/media/card3.7f5e9a03.jpeg",X=a.p+"static/media/card4.7be25e8f.jpeg",K=a.p+"static/media/card13.0457a26e.jpeg";function Z(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("li",{className:"card",id:"card_1",children:Object(V.jsxs)("div",{className:"card__content",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:Object(V.jsx)("i",{children:'"I\'m so thankful I can depend on you!"'})}),Object(V.jsx)("p",{children:"-Joan from Minneapolis "})]}),Object(V.jsx)("figure",{children:Object(V.jsx)("img",{src:J,alt:"Image description"})})]})}),Object(V.jsx)("li",{className:"card",id:"card_2",children:Object(V.jsxs)("div",{className:"card__content",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:Object(V.jsx)("i",{children:'"So appreciative of this service- I can finally get some errands done while I\'m at work."'})}),Object(V.jsx)("p",{children:"-Brook from Scranton."})]}),Object(V.jsx)("figure",{children:Object(V.jsx)("img",{src:Q,alt:"Image description"})})]})}),Object(V.jsx)("li",{className:"card",id:"card_3",children:Object(V.jsxs)("div",{className:"card__content",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:Object(V.jsx)("i",{children:'"Thank you so much for your help- it means the world."'})}),Object(V.jsx)("p",{children:"-Addie from Austin."})]}),Object(V.jsx)("figure",{children:Object(V.jsx)("img",{src:X,alt:"Image description"})})]})}),Object(V.jsx)("li",{className:"card",id:"card_4",children:Object(V.jsxs)("div",{className:"card__content",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:Object(V.jsx)("i",{children:'"I love helping others throughout my day- I\'ve also created amazing friendships!"'})}),Object(V.jsx)("p",{children:"-Michael from Portland"})]}),Object(V.jsx)("figure",{children:Object(V.jsx)("img",{src:K,alt:"Image description"})})]})})]})}var ee=a.p+"static/media/new-header.015038bc.jpg",te=a.p+"static/media/newsignup.163b8d15.jpeg",ae=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{className:"fixed-bg",style:{backgroundImage:"url(".concat(ee,")")}}),Object(V.jsx)("main",{children:Object(V.jsx)("aside",{children:Object(V.jsx)("ul",{id:"cards",style:{width:"600px",paddingLeft:0},children:Object(V.jsx)(Z,{})})})}),Object(V.jsxs)("aside",{children:[Object(V.jsx)("div",{class:"card",id:"card-about",children:Object(V.jsx)("p",{children:Object(V.jsxs)("h7",{children:["Connect 2 Call is a platform utilized to assist others in making phone calls!",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"Whether the reason be anxiety, language barriers, or available time, we help connect you to callers who are available, capable, and comfortable calling for you."]})})}),Object(V.jsxs)("div",{class:"container",id:"container",children:[Object(V.jsx)("div",{class:"form-container log-in-container",children:Object(V.jsxs)("form",{children:[Object(V.jsx)("h1",{children:"Welcome Back!"}),Object(V.jsx)("br",{}),Object(V.jsx)("input",{type:"email",placeholder:"Email"}),Object(V.jsx)("input",{type:"password",placeholder:"Password"}),Object(V.jsx)("button",{children:"Log In"})]})}),Object(V.jsx)("div",{class:"overlay-container",children:Object(V.jsx)("div",{class:"overlay",style:{backgroundImage:"url(".concat(te,")")},children:Object(V.jsxs)("div",{class:"overlay-panel overlay-right",children:[Object(V.jsx)("h4",{children:"New Here?"}),Object(V.jsx)("p",{children:Object(V.jsx)("h3",{children:"Sign up below to either make or request calls."})}),Object(V.jsx)("br",{}),Object(V.jsx)("a",{className:"button",href:"/signupform",children:Object(V.jsx)("button",{children:"Sign Up"})}),Object(V.jsx)("br",{})]})})})]})]})]})};var ne,ce,re=function(){return Object(V.jsxs)("footer",{children:[Object(V.jsxs)("ul",{className:"list-inline",children:[Object(V.jsx)("li",{className:"list-inline-item",children:Object(V.jsx)("a",{href:"#",children:"Home"})}),Object(V.jsx)("li",{className:"list-inline-item",children:Object(V.jsx)("a",{href:"#",children:"Login"})}),Object(V.jsx)("li",{className:"list-inline-item",children:Object(V.jsx)("a",{href:"#",children:"Sign Up"})})]}),Object(V.jsx)("p",{className:"copyright",children:"Connect 2 Call \xa9 2022"})]})},se=function(){var e=Object(o.useState)("Home"),t=Object(w.a)(e,2),a=t[0],n=t[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("main",{children:[Object(V.jsx)(z,{style:{backgroundImage:"url(".concat(_,")")},currentPage:a,changeFunction:function(e){n(e)}}),"Home"===a||"Logout"===a?Object(V.jsx)(ae,{}):void 0]})})},ie=function(){var e=Object(o.useState)("Home"),t=Object(w.a)(e,2),a=t[0],n=t[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("main",{style:{backgroundImage:"url(".concat(_,")")},children:[Object(V.jsx)(z,{currentPage:a,changeFunction:function(e){n(e)}}),"Home"===a?Object(V.jsx)(ae,{}):"Login"===a?Object(V.jsx)(R,{}):"SignUp"===a?Object(V.jsx)(se,{}):void 0,Object(V.jsx)(re,{})]})})},le=function(){var e=Object(o.useState)({taskTitle:"",callLanguage:"",description:"",callCategory:"",payment:"",callTime:"",phoneNumberToCall:""}),t=Object(w.a)(e,2),a=t[0],n=t[1],c=Object(N.a)(U),r=Object(w.a)(c,2),s=r[0],i=r[1].error,l=Object(o.useState)(!0),j=Object(w.a)(l,1)[0],d=Object(o.useState)(!1),b=Object(w.a)(d,2),u=b[0],h=b[1],m=function(e){var t=e.target,c=t.name,r=t.value;n(Object(O.a)(Object(O.a)({},a),{},Object(L.a)({},c,r)))},p=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var c,r,l;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),c=Y.getProfile(),e.prev=5,e.next=8,s({variables:Object(O.a)(Object(O.a)({},a),{},{postUser:c.data._id})});case 8:if(r=e.sent,l=r.data,console.log(l),!i){e.next=13;break}throw new Error("something went wrong!");case 13:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0),h(!0);case 20:n({taskTitle:"",callLanguage:"",description:"",callCategory:"",payment:"",callTime:"",phoneNumberToCall:""});case 22:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{style:{backgroundImage:"url(".concat(_,")")},children:[Object(V.jsx)("div",{className:"sign-up-form"}),Object(V.jsxs)(I.a,{noValidate:!0,validated:j,onSubmit:p,children:[Object(V.jsx)($.a,{dismissible:!0,onClose:function(){return h(!1)},show:u,variant:"danger",children:"Something went wrong with your signup!"}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"taskTitle",children:"taskTitle"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"taskTitle",name:"taskTitle",onChange:m,value:a.taskTitle,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"taskTitle is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"callLanguage",children:" callLanguage"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"callLanguage",name:"callLanguage",onChange:m,value:a.callLanguage,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:" callLanguage is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"description",children:"description"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"description",name:"description",onChange:m,value:a.description,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"description is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"callCategory",children:"callCategory"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"callCategory",name:"callCategory",onChange:m,value:a.callCategory,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"callCategory is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"payment",children:"payment"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"payment",name:"payment",onChange:m,value:a.payment,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"payment is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"callTime",children:"callTime"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"callTime",name:"callTime",onChange:m,value:a.callTime,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"callTime is required!"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"phoneNumberToCall",children:"phoneNumberToCall"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"phoneNumberToCall",name:"phoneNumberToCall",onChange:m,value:a.phoneNumberToCall,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"phoneNumberToCall is required!"})]}),Object(V.jsx)(F.a,{disabled:!(a.taskTitle&&a.callLanguage&&a.description),type:"submit",variant:"success",children:"Submit"}),Object(V.jsx)(F.a,{disabled:!(a.taskTitle&&a.callLanguage&&a.description),type:"edit",variant:"success",children:"Edit post"}),Object(V.jsx)(F.a,{disabled:!(a.taskTitle&&a.callLanguage&&a.description),type:"complited",variant:"success",children:"Complited"})]})]})})},oe=a(115),je=Object(P.a)(ne||(ne=Object(q.a)(["\nquery Posts {\n  posts {\n    _id\n    taskTitle\n    createdAt\n    callLanguage\n    description\n    callCategory\n    payment\n    callTime\n    phoneNumberToCall\n      postUser {\n      username\n    }\n    completed\n    comments {\n      commentText\n      commentAuthor{\n        username\n      }\n      createdAt\n    }\n  }\n}\n"]))),de=(Object(P.a)(ce||(ce=Object(q.a)(["\nquery Query($userId: String!) {\n  user(userId: $userId) {\n    username\n    email\n    password\n    siteLanguage\n    spokenLanguage\n    isCaller\n    rating\n  }\n}\n"]))),function(){var e=Object(oe.a)(je),t=(e.loading,e.data),a=Object(N.a)(G),n=Object(w.a)(a,2),c=n[0],r=(n[1].deleteError,Object(o.useState)({username:"",commentText:"",postId:""})),s=Object(w.a)(r,2),i=s[0],l=s[1],j=Object(N.a)(D),d=Object(w.a)(j,2),b=d[0],u=d[1].error,h=Object(N.a)(H),m=Object(w.a)(h,1)[0],p=Object(o.useState)(!0),x=(Object(w.a)(p,1)[0],Object(o.useState)(!1)),g=Object(w.a)(x,2),v=g[0],f=g[1],y=Object(o.useState)(""),C=Object(w.a)(y,2),k=C[0],$=C[1],_=function(e){var t=e.target,a=t.name,n=t.value;l(Object(O.a)(Object(O.a)({},i),{},Object(L.a)({},a,n))),console.log(i)},q=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var a,n,r,s,i,l;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.dataset,n=a.id,r=a.user,s=Y.getProfile(),r!==s.data._id){e.next=17;break}return e.prev=3,e.next=6,c({variables:{postId:n,postUser:r}});case 6:i=e.sent,l=i.data,console.log(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:e.next=20;break;case 17:f(!0),$(n),console.log("you must own this post");case 20:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var a,n,c,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),a=Y.getProfile(),n=a.data._id,e.prev=5,e.next=8,b({variables:{postId:t.target.dataset.postid,commentText:i.commentText,commentAuthor:n}});case 8:if(c=e.sent,r=c.data,console.log(r),!u){e.next=13;break}throw new Error("something went wrong!");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0);case 18:l({commentText:""}),window.location.assign("/board");case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(Object(S.a)().mark((function e(t){var a,n,c;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.dataset.id,e.prev=1,e.next=4,m({variables:{postId:a}});case 4:n=e.sent,c=n.data,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:window.location.assign("/board");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)("div",{children:t?t.posts.map((function(e,t){return Object(V.jsxs)("div",{children:[Object(V.jsxs)("h2",{children:[" title: ",e.taskTitle]}),Object(V.jsxs)("p",{children:["Username: ",e.postUser.username]}),Object(V.jsxs)("p",{children:["createdAt:",e.createdAt," "]}),Object(V.jsxs)("p",{children:["Call Language: ",e.callLanguage," "]}),Object(V.jsxs)("p",{children:["Description: ",e.description]}),Object(V.jsxs)("p",{children:["Call Category: ",e.callCategory]}),Object(V.jsxs)("p",{children:["Payment: ",e.payment]}),Object(V.jsxs)("p",{children:["Phone Number: ",e.phoneNumberToCall]}),Object(V.jsx)("button",{"data-id":e._id,onClick:A,children:e.completed?"This task has been completed":"Mark as completed"}),Object(V.jsxs)("p",{children:["Comments: ",e.comments.length>0?e.comments.map((function(e){return Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{children:["Comment: ",e.commentText]}),Object(V.jsxs)("div",{children:["From: ",null!=e.commentAuthor.username?e.commentAuthor.username:""]})]})})):Object(V.jsx)("div",{children:"no comments"}),";"]}),Object(V.jsxs)("span",{role:"button",tabIndex:"0","data-id":e._id,"data-user":e.postUser,onClick:q,children:["Delete This Post  X ",v&&k===e._id?"You must own this post inorder to delete it":""]}),Object(V.jsxs)(I.a,{onSubmit:P,"data-postId":e._id,children:[Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:"comment",children:"Comment"}),Object(V.jsx)(I.a.Control,{type:"text",placeholder:"commentText",name:"commentText",onChange:_,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:"invalid",children:"Comment is required!"})]}),Object(V.jsx)(F.a,{type:"submit",variant:"success",children:"Submit"})]})]},e._id)})):Object(V.jsx)("div",{children:"loading"})})}),be=a(64);var ue=function(){var e=Object(o.useState)([]),t=Object(w.a)(e,2),a=t[0],n=t[1];return Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"What is on your bucket list?"}),Object(V.jsx)(de,{card:a,completeCardItem:function(e){var t=a.map((function(t){return t.id===e&&(t.isComplete=!t.isComplete),t}));console.log(t),n(t)},removeCardItem:function(e){var t=Object(be.a)(a).filter((function(t){return t.id!==e}));n(t)},editCardItem:function(e,t){t.text&&n((function(a){return a.map((function(a){return a.id===e?t:a}))}))}})]})},he=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ue,{})})},me=Object(x.a)({uri:"/graphql"}),pe=Object(y.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(O.a)(Object(O.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Oe=new g.a({link:pe.concat(me),cache:new v.a}),xe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(V.jsx)(f.a,{client:Oe,children:Object(V.jsx)(C.a,{children:Object(V.jsxs)("div",{children:[Object(V.jsx)(z,{}),Object(V.jsxs)(k.c,{children:[Object(V.jsx)(k.a,{path:"/",element:Object(V.jsx)(ie,{})}),Object(V.jsx)(k.a,{path:"/signupform",element:Object(V.jsx)(W,{})}),Object(V.jsx)(k.a,{path:"/board",element:Object(V.jsx)(he,{})}),Object(V.jsx)(k.a,{path:"/new-post",element:Object(V.jsx)(le,{})})]})]})})})}}]),a}(j.a.Component),ge=xe;b.a.render(Object(V.jsx)(j.a.StrictMode,{children:Object(V.jsx)(ge,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.6624009d.chunk.js.map